# contest 873 (2025-8-5)

## [problem C](https://codeforces.com/contest/1828/problem/C)

### 题目简述

给定两个长度为 $N$ 的数组 $a$ 和 $b$，其中数组 $a$ 中所有元素互不相同。

你需要求出将 $a$ 重排 的方案数，使得对于每个 $i$ 都满足：

$a_i > b_i$

输出满足条件的重排方案数，对 $10^9+7$ 取模, 其中 $1 \leq N \leq 2 \cdot 10^5$。

### 思路

因为题目所要求的 $a_i > b_i$ 与相对顺序无关，所以我们可以将 $b$ 进行从小到大排序,
并且从后往前构造对每一个 $b_i$ 符合条件的 $a_i$。

对每一个 $b_i$ 我们都可以通过对排序 $a$ 二分查找来确定符合条件的元素 $a_i$ 的数量，
假设为 $cnt_i$。但是这个满足条件的集合中，已经包含了后面已填位置的元素，所以实际可填的元素是 $cnt_i - N - i + 1$ 个。
特别的，因为有可能遇见找不到合法可填元素的情况，所以对于 $b_i$ 填写 $a_i$ 有 $\max(0, cnt_i - N - i + 1)$ 种可能。
将对于 $i$ 的所有可能相乘，最终得到答案。

时间复杂度为 $O(N\log N)$。
